# Configuration pour S3/MinIO
spark.hadoop.fs.s3a.endpoint                          http://minio:9000
spark.hadoop.fs.s3a.access.key                        minioadmin
spark.hadoop.fs.s3a.secret.key                        minioadmin123
spark.hadoop.fs.s3a.path.style.access                 true
spark.hadoop.fs.s3a.impl                              org.apache.hadoop.fs.s3a.S3AFileSystem
spark.hadoop.fs.s3a.connection.ssl.enabled            false
spark.hadoop.fs.s3a.aws.credentials.provider          org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider

# Configuration du Thrift Server
spark.master                                          spark://spark-master:7077
spark.sql.thriftServer.driver.class                   org.apache.hive.jdbc.HiveDriver

# Configuration Hive Metastore
spark.sql.hive.metastore.version                      3.1.3
spark.sql.hive.metastore.jars                         builtin
spark.hadoop.hive.metastore.uris                      thrift://hive-metastore:9083

# Configuration des répertoires temporaires
spark.local.dir                                       /tmp
spark.sql.warehouse.dir                               s3a://healthcare-data/

# Delta Lake Configuration
spark.sql.extensions                                  io.delta.sql.DeltaSparkSessionExtension
spark.sql.catalog.spark_catalog                       org.apache.spark.sql.delta.catalog.DeltaCatalog
spark.serializer                                      org.apache.spark.serializer.KryoSerializer

# Configuration pour la compatibilité Hive
spark.sql.hive.convertMetastoreParquet                false
spark.sql.hive.metastorePartitionPruning              true